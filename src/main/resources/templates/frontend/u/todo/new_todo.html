<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-Hant">
<head>
  <meta charset="UTF-8"><title>新增待辦事項</title>
  <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">
</head>
<body class="container py-4">
  <h4 class="mb-1">新增待辦事項</h4>
  <div class="text-muted mb-3" th:if="${mhb != null}">
    <span th:text="'手冊 #' + ${mhb.motherHandbookId} + ' — ' + ${mhb.motherName}"></span>
  </div>

  <form th:action="@{/u/todos(mhbId=${mhb.motherHandbookId})}"
        th:object="${todo}" method="post" class="row g-3">
    <input type="hidden" th:if="${_csrf != null}"
           th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}"/>

    <div class="col-md-8">
      <label class="form-label">事項</label>
      <input type="text" class="form-control" th:field="*{title}" required placeholder="例如：準備待產包">
    </div>

    <div class="col-md-4">
      <label class="form-label">到期日</label>
      <input type="date" class="form-control" th:field="*{dueDate}">
    </div>

    <div class="col-md-12">
      <label class="form-label">備註</label>
      <textarea class="form-control" rows="3" th:field="*{note}" placeholder="可填寫細項或提醒"></textarea>
    </div>

    <div class="col-12">
      <button class="btn btn-primary" type="submit">儲存</button>
      <a class="btn btn-outline-secondary"
         th:href="@{/blog/full-grid-left(tab='todos', mhbId=${mhb.motherHandbookId})}">取消</a>
    </div>
  </form>
</body>
</html>
